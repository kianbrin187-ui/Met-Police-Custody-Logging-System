<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Metropolitan Police Custody System</title>

<style>
body {
  margin:0;
  font-family: Arial, sans-serif;
  background:#0B1B3F;
}

/* TOP BAR */
.topbar {
  background:#0B1B3F;
  padding:15px;
  color:white;
  font-size:18px;
  font-weight:bold;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.link-btn {
  background:#005CAB;
  color:white;
  padding:8px 14px;
  border:none;
  border-radius:4px;
  cursor:pointer;
  font-weight:bold;
}

.link-btn:hover {
  background:white;
  color:#0B1B3F;
}

/* MAIN CONTAINER */
.container {
  background:white;
  max-width:750px;
  margin:40px auto;
  padding:30px;
  border-radius:8px;
  box-shadow:0 0 20px rgba(0,0,0,0.3);
}

input, textarea, button {
  width:100%;
  padding:8px;
  margin-top:12px;
  border:2px solid #005CAB;
  border-radius:4px;
  font-size:14px;
}

button {
  background:#0B1B3F;
  color:white;
  font-weight:bold;
  cursor:pointer;
}

button:hover {
  background:#005CAB;
}

.hidden {
  display:none;
}
</style>
</head>
<body>

<div class="topbar">
  Metropolitan Police Custody System
  <button class="link-btn" onclick="openLinks()">Useful Links</button>
</div>

<!-- LOGIN BOX -->
<div class="container" id="loginBox">
  <h3>Secure Login</h3>
  <input type="text" id="username" placeholder="Username">
  <input type="password" id="password" placeholder="Password">
  <button onclick="login()">Login</button>
</div>

<!-- BOOKING FORM -->
<div class="container hidden" id="formBox">

  <h3>Custody Booking</h3>

  <input type="text" id="custodyOfficer" placeholder="Custody Officer">
  <input type="text" id="callsign" placeholder="Callsign">
  <input type="text" id="arrestingOfficers" placeholder="Arresting Officers (comma separated)">
  <input type="text" id="suspect" placeholder="Suspect Name">
  <textarea id="reason" placeholder="Reason for Arrest"></textarea>
  <input type="text" id="location" placeholder="Location">
  <input type="datetime-local" id="time">

  <button onclick="saveBooking()">Save Booking</button>

</div>

<script>

const scriptURL = "PASTE_WEB_APP_URL_HERE";

/* OPEN LINKTREE */
function openLinks(){
  window.open("https://linktr.ee/YOUR_LINKTREE_HERE", "_blank");
}

/* LOGIN */
function login(){
  fetch(scriptURL,{
    method:"POST",
    body:JSON.stringify({
      type:"login",
      username:username.value,
      password:password.value
    })
  })
  .then(r=>r.json())
  .then(data=>{
    if(data.status==="success"){
      loginBox.classList.add("hidden");
      formBox.classList.remove("hidden");
    } else {
      alert("Access Denied");
    }
  });
}

/* SAVE BOOKING */
function saveBooking(){
  fetch(scriptURL,{
    method:"POST",
    body:JSON.stringify({
      type:"save",
      custodyOfficer:custodyOfficer.value,
      callsign:callsign.value,
      officers:[arrestingOfficers.value],
      suspect:suspect.value,
      reason:reason.value,
      location:location.value,
      time:time.value
    })
  })
  .then(r=>r.json())
  .then(data=>{
    if(data.status==="saved"){
      alert("Booking Saved Successfully");
    } else {
      alert("Error Saving Booking");
    }
  });
}

</script>

</body>
</html>
